<html>
<script type="text/javascript" charset="utf-8">
	debug = true;
</script>
<script type="text/javascript" src="../src/namespace.js"></script>

<script type="text/javascript">

new Namespace("jp.example").use(function() {
	proto(function SuperClass() {
		init(function(p0, p1) {
			this.propA = p0;
			this.propB = p1;
		});
		
		def(function inspect() {
			return "propA = " + this.propA + "\npropB = " + this.propB;
		});
	});
	
	proto(function SubClass() {
		ex(jp.example.SuperClass);
		
		init(function(p0, p1, p2, p3) {
			this.$super(p0, p1);

			this.propC = p2;
			this.propD = p3;
		});
		
		def(function inspect() {
			console.log(this);
			return this.$super() + "\npropC = " + this.propC + "\npropD = " + this.propD;
		});
		
		$$.def(function classMethodA() {
			return "classMethodA";
		});
		$$.classVarA = "class variable";
	});
	
	proto(function SubsubClass() {
		ex(jp.example.SubClass);
		
		init(function (p0, p1, p2, p3, p4) {
			this.$super(p0, p1, p2, p3)
			this.propE = p4;
		});
		
		def(function inspect() {
			console.log(this);
			return this.$super() + "\npropE = " + this.propE;
		});
	});
	
	singleton(function SingletonClass() {
		init(function () {
			alert("SingletonClass was generated");
		});
	});
});

new Namespace(NS_CORE).Main.getInstance().main(function (argument) {
	var subsubClass = new jp.example.SubsubClass(
		"property A",
		"property B",
		"property C",
		"property D",
		"property E");
		subsubClass.inspect();
		console.log(jp.example.SingletonClass.getInstance())
		// alert("-- subsubClass inspect ---------\n" + subsubClass.inspect() + '\n\n');
		// 		alert("-- jp.example.SubClass class member ---------\n" + jp.example.SubClass.classVarA);
		// 		alert(jp.example.SubClass.classMethodA() + '\n\n');
		// var singletonA = jp.example.SingletonClass.getInstance();
		// 	var singletonB = jp.example.SingletonClass.getInstance(); 
		// 	alert("-- Equivalence test of singleton object  ---------\n\
		// 		(singletonA === singletonB) = " + (singletonA === singletonB).toString());
});

</script>
<body>
</body>
</html>