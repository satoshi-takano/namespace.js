<html>
<script type="text/javascript" charset="utf-8">
	debug = true;
</script>
<script type="text/javascript" src="../src/0_lib_define.js"></script>
<script type="text/javascript" src="../src/1_namespace.js"></script>
<script type="text/javascript" src="../src/2_core.js"></script>
<script type="text/javascript" src="../src/2.1_platform.js"></script>
<script type="text/javascript" src="../src/3_events.js"></script>
<script type="text/javascript" src="../src/4_geom.js"></script>
<script type="text/javascript" src="../src/5_application.js"></script>
<script type="text/javascript" src="../src/6_tween.js"></script>
<script type="text/javascript" src="../src/7_net.js"></script>
<script type="text/javascript" src="../src/8_display.js"></script>
<script type="text/javascript" src="../src/9_ui.js"></script>
<script type="text/javascript" src="../src/10_native_extention.js"></script>
<script type="text/javascript" src="../src/11_canvas.js"></script>
<script type="text/javascript" src="../src/12_math.js"></script>

<canvas id="world" width='1024' height='768'>
</canvas>

<script type="text/javascript">
new Namespace(namespace_lib_core).Main.getInstance().main(function (argument) {
	var ns = new Namespace(namespace_lib_canvas);
	
	createWorld("world");
	
	function createWorld(name) {
		var stage = ns.Stage.gen(document.getElementById(name));

		var container = ns.DisplayObjectContainer.gen();
		stage.addChild(container);
		container.graphics.beginFill(0x999999);
		container.graphics.drawRect(0, 0, stage.stageWidth, stage.stageHeight);
		container.graphics.endFill()
		
		var text = ns.Text.gen();
		container.addChild(text);
		stage.draw();
		
		var im = ns.ImageManager.getInstance();
		im.load(["/Users/satoshitakano/PKPass/starbucks_sample/background.png"]);
		im.addEventListener('complete', function(e) {
			var img = ns.Image.gen(im.getImageByName("/Users/satoshitakano/PKPass/starbucks_sample/background.png"));
			img = ns.DisplayObject.gen();
			 			img.graphics.beginFill(0);
			 			img.graphics.drawRect(0, 0, 100, 100);
			var sprite = ns.DisplayObjectContainer.gen();
			var spsp = ns.DisplayObjectContainer.gen();
			spsp.addChild(sprite)
			
			container.addChild(spsp)
			
			 spsp.scaleX = 0.5;
			 			 			spsp.scaleY = 0.5;
			// 			// 			
			// 			 			 sprite.scaleX = 0.5;
			// 			 			 	 			sprite.scaleY = 0.5;
			// 			// 			
			 			 			img.scaleX = 0.5;
			 			 			img.scaleY = 0.5;
			var re = ns.DisplayObject.gen();
			re.graphics.beginFill(0)

			sprite.addChild(img);
sprite.rotation = 45;
			re.graphics.drawRect(0, 0, 3500, 100)
//			sprite.addChild(re);
			img.rotation = 45;
			img.x = 100;
			
			var text = ns.Text.gen();

			spsp.addChild(text);
			text.text= "hoge"
			text.fontFamily = "Helvetica";
			text.color = 0xff0000;
			text.fontSize = "30";
			text.applyFormat();
			text.x = 100;
			
			stage.draw();
			stage.draw();
			return;
			var nsa = new Namespace(namespace_lib_tween);
			var values = nsa.Interpolator.gen(-img.width, 0, 120, nsa.Expo.easeInOut).values;
			setInterval(function() {
				if (values.length) img.x = values.shift();
				stage.draw();
			}, 1000 / 60)
		})
		
		
		
		
	}
});


</script>
<body>
</body>
</html>