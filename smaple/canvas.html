<html>
<script type="text/javascript" charset="utf-8">
	debug = true;
</script>
<script type="text/javascript" src="../src/0_lib_define.js"></script>
<script type="text/javascript" src="../src/1_namespace.js"></script>
<script type="text/javascript" src="../src/2_core.js"></script>
<script type="text/javascript" src="../src/2.1_platform.js"></script>
<script type="text/javascript" src="../src/3_events.js"></script>
<script type="text/javascript" src="../src/4_geom.js"></script>
<script type="text/javascript" src="../src/5_application.js"></script>
<script type="text/javascript" src="../src/6_tween.js"></script>
<script type="text/javascript" src="../src/7_net.js"></script>
<script type="text/javascript" src="../src/8_display.js"></script>
<script type="text/javascript" src="../src/9_ui.js"></script>
<script type="text/javascript" src="../src/10_native_extention.js"></script>
<script type="text/javascript" src="../src/11_canvas.js"></script>
<script type="text/javascript" src="../src/12_math.js"></script>

<canvas id="world" width='1024' height='768'>
</canvas>

<script type="text/javascript">
new Namespace(namespace_lib_core).Main.getInstance().main(function (argument) {
	var ns = new Namespace(namespace_lib_canvas);
	
	createWorld("world");
	
	function createWorld(name) {
		var stage = ns.Stage.gen(document.getElementById(name));

		var container = ns.DisplayObjectContainer.gen();
		stage.addChild(container);
		container.graphics.beginFill(0x999999);
		container.graphics.drawRect(0, 0, stage.stageWidth, stage.stageHeight);
		container.graphics.endFill()
		
		var text = ns.Text.gen();
		container.addChild(text);
		
		var im = ns.ImageManager.getInstance();
		im.load(["/smaple/img/travel/area_12.png"]);
		im.addEventListener('complete', function(e) {
			var img = ns.Image.gen(im.getImageByName("/smaple/img/travel/area_12.png"));
			container.addChild(img)
			
			img.scaleX = 0.5;
			img.scaleY = 0.5;
			img.rotation = 20;
			
			
			var text = ns.Text.gen();
			
			container.addChild(text);
			text.text= "hoge"
			text.fontFamily = "Helvetica";
			text.color = 0xff0000;
			text.fontSize = "30";
			text.applyFormat();
			
			stage.draw();
			
			var nsa = new Namespace(namespace_lib_tween);
			var values = nsa.Interpolator.gen(-img.width, 0, 120, nsa.Expo.easeInOut).values;
			setInterval(function() {
				if (values.length) img.x = values.shift();
				stage.draw();
			}, 1000 / 60)
		})
		
		
		
		stage.draw();
	}
});


</script>
<body>
</body>
</html>