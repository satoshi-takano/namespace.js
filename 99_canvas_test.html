<html>
<script type="text/javascript" src="0_lib_define.js"></script>
<script type="text/javascript" src="1_namespace.js"></script>
<script type="text/javascript" src="2_core.js"></script>
<script type="text/javascript" src="3_events.js"></script>
<script type="text/javascript" src="4_geom.js"></script>
<script type="text/javascript" src="5_application.js"></script>
<script type="text/javascript" src="6_tween.js"></script>
<script type="text/javascript" src="7_net.js"></script>
<script type="text/javascript" src="8_display.js"></script>
<script type="text/javascript" src="9_ui.js"></script>
<script type="text/javascript" src="10_native_extention.js"></script>
<script type="text/javascript" src="11_canvas.js"></script>
<script type="text/javascript" src="12_math.js"></script>

<canvas id="canvas" width='900' height='300'>
</canvas>
<script type="text/javascript">

jp.co.imgsrc.Main.getInstance().main(function (argument) {
	var graphics = jp.co.imgsrc.html5.canvas.Canvas.gen(document.getElementById("canvas"));
	
	var dtor = Math.PI / 180;

	var W = 100;
	setInterval(function () {
		var oldX = 0;
		var oldY = 100;
		graphics.context.clearRect(0, 0, 900, 300);
		graphics.context.beginPath();
		graphics.beginFill(0, 1);
		graphics.moveTo(0, 300);
		graphics.lineTo(0, 100);
		for (var x = 0; x <= W; x++) {
			var xx = x * (900 / W);
			var yy = f(x) * 20 + 100;
			var cx = oldX + (xx - oldX) / 2;
			var cy = oldY + (yy - oldY) / 2;
			graphics.curveTo(cx, cy, xx, yy);
			oldX = xx;
			oldY = yy;
		}
		graphics.lineTo(900, 300);
		graphics.lineTo(0, 300);
		graphics.endFill();
	}, 1000 / 30)
	
	var k = 0;
	function f(t) {
		var res = 0;
		var num = 5;
		k += 0.003;
		for (var n = 1; n < num; n++) {
			res += (-2/n) * (Math.pow(-1, n)) * Math.sin(n * 2 * t * Math.PI / 180 + k);
		}
		return res;
	}
});

</script>
<body>
</body>
</html>